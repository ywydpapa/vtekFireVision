<!DOCTYPE html>
<html lang="en">
<head>
{% include '/menu/header.html' %}
<style>
    .userAddContents{
        width: 100%;
        padding-bottom: 10px;
    }

    .userAddContents > div{
        display: flex;
        align-items: center;
        justify-content: right;
        padding-bottom: 10px;
    }

    .userAddContents > table{
        width: 100%;
    }

    .userAddContents > table > thead > tr > th{
        padding: 5px;
    }

    .userAddContents > table > tbody > tr > td{
        padding: 5px;
    }

    .userAddContents > table > tbody > tr > td > input{
        width: 100%;
    }
</style>
</head>
<body>
    <div id="commonTopHeader">
{% include './menu/comTopHeader.html' %}
    </div>

    <div id="commonBodyContents">
{% include './menu/sidemenu3.html' %}
    <div id="commonContent">
        <div class="container">
            <div class="userAddContents">
                <div>
                    <button type="button" onclick="deviceAddSubmit();">장비 등록</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>장비종류</th>
                            <th>장비시리얼번호</th>
                            <th>맥어드레스</th>
                            <th>할당 사이트</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><select id="devType">
                                <option value = "">장비 타입 선택</option>
                                <option value = "PORT-A01">소지형 A타입</option>
                                <option value = "ATTD-A01">설치형 A타입</option>
                                <option value = "MONI-A01">관제 A타입 (VS-1000)</option>
                            </select></td>
                            <td><input type="text" id="devSerial"></td>
                            <td><input type="text" id="devMac"></td>
                            <td><select id="devSite">
                                <option value="" selected></option>
                                <option value="">설치장소</option>
                            </select></td>
                        </tr>
                        <tr style="background-color: khaki">
                            <td>IP4</td>
                            <td>IP6</td>
                            <td>ALARM KEY</td>
                            <td>SETUP TYPE</td>
                        </tr>
                    <tr>
                        <td><input type="text" id="ipv4"></td>
                        <td><input type="text" id="ipv6"></td>
                        <td><input type="text" id="alarmkey"></td>
                        <td><input type="text" id="devicesetup"></td>
                    </tr>

                        </tr>
                        <tr style="background-color: khaki">
                            <td>센서 1번 KEY</td>
                            <td>센서 2번 KEY</td>
                            <td>센서 3번 KEY</td>
                            <td>센서 4번 KEY</td>
                        </tr>
                    <tr>
                        <td><input type="text" id="sensor01"></td>
                        <td><input type="text" id="sensor02"></td>
                        <td><input type="text" id="sensor03"></td>
                        <td><input type="text" id="sensor04"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <table id="foo-table" class="table table-striped table-bordered nowrap overflow-auto">
                    <thead>
                        <tr>
                            <th>장비종류</th>
                            <th>시리얼번호</th>
                            <th>맥어드레스</th>
                            <th>할당 사이트</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for k in cond %}
                        <tr>
                            <td>{{k[2]}}</td>
                            <td>{{k[3]}}</td>
                            <td>{{k[4]}}</td>
                            <td>{{k[4]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
<script>
    function deviceAddSubmit(){
        let datas = {};
        datas.devType = $("#devType").val();
        datas.devSerial = $("#devSerial").val();
        datas.devMac = $("#devMac").val();
        datas.siteNo = $("#devSite").val();
        datas.deviceIp4 = $("#ipv4").val();
        datas.deviceIp6 = $("#ipv6").val();
        datas.sensor01 = $("#sensor01").val();
        datas.sensor02 = $("#sensor02").val();
        datas.sensor03 = $("#sensor03").val();
        datas.sensor04 = $("#sensor04").val();
        datas.deviceSetno = $("#devicesetup").val();
        $.ajax({
            "url": "/devInsert",
            "method": "post",
            "data": datas,
            "success": function(){
                alert("등록되었습니다.");
                location.reload();
            }
        })
    }

    function deviceUpdateSubmit(){
        let datas = {};
        datas.devType = $("#devType").val();
        datas.devSerial = $("#devSerial").val();
        datas.devMac = $("#devMac").val();
        datas.siteNo = $("#devSite").val();
        datas.deviceIp4 = $("#ipv4").val();
        datas.deviceIp6 = $("#ipv6").val();
        datas.sensor01 = $("#sensor01").val();
        datas.sensor02 = $("#sensor02").val();
        datas.sensor03 = $("#sensor03").val();
        datas.sensor04 = $("#sensor04").val();
        datas.deviceSetno = $("#devicesetup").val();
        $.ajax({
            "url": "/devUpdate",
            "method": "post",
            "data": datas,
            "success": function(){
                alert("등록되었습니다.");
                location.reload();
            }
        })
    }
</script>
</html>
